function extend(t,e){var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t,t.superclass=e.prototype}function new_share_constructor(){this.url_params="",this.url_field="",this.title_field="",this.img_field="",this.text_field="",this.make_params=function(t,e,o,n){this.url_field=t,this.title_field=e,this.img_field=o,this.text_field=n,url="",t.length>0&&(url+="FB"==this.uid?"&p[url]="+encodeURIComponent(t):"url="+encodeURIComponent(t)),e.length>0&&(url+="FB"==this.uid?"&p[title]="+encodeURIComponent(t):"&title="+encodeURIComponent(e)),n.length>0&&(url+="FB"==this.uid?"&p[summary]="+encodeURIComponent(t):"&description="+encodeURIComponent(n)),o.length>0&&(url+="FB"==this.uid?"&p[images]="+encodeURIComponent(t):"&image="+encodeURIComponent(o)),this.url_params=url},this.change_params=function(t,e,o,n){url="","FB"==this.uid?(url+=t.length>0?"&p[url]="+encodeURIComponent(t):"&p[url]="+encodeURIComponent(this.url_field),url+=e.length>0?"&p[title]="+encodeURIComponent(e):"&p[title]="+encodeURIComponent(this.title_field),url+=n.length>0?"&p[summary]="+encodeURIComponent(n):"&p[summary]="+encodeURIComponent(this.text_field),url+=o.length>0?"&p[images][0]="+encodeURIComponent(o):"&p[images][0]="+encodeURIComponent(this.img_field)):(url+=t.length>0?"url="+encodeURIComponent(t):"url="+encodeURIComponent(this.url_field),url+=e.length>0?"&title="+encodeURIComponent(e):"&title="+encodeURIComponent(this.title_field),url+=n.length>0?"&description="+encodeURIComponent(n):"&description="+encodeURIComponent(this.text_field),url+=o.length>0?"&image="+encodeURIComponent(o):"&image="+encodeURIComponent(this.img_field)),this.url_params=url}}function Provider(){this.url_set_share="default",this.url_get_share="default",this.uid="default",this.shares_url="default",this.alert_par=function(){alert(this.uid)},this.share=function(){url=this.url_set_share+this.url_params,popup_res=this.popup(url)},this.popup=function(t){var e=window.open(t,"","toolbar=0,status=0,width=626,height=436");win=e},this.count_share="default nothing",this.elem_view="default nothing",this.getCountShare=function(){var t=this;switch(this.uid){case"VK":$.getJSON(this.url_get_share+this.shares_url+"&callback=?",function(){}).complete(function(){t.elem_view.html(window.VK.count_value)});break;case"FB":fql='SELECT share_count FROM link_stat WHERE url="'+this.shares_url+'"',serviceURL="https://api.facebook.com/method/fql.query?format=json&query="+fql,$.getJSON(serviceURL,function(e){alert(e[0].share_count),t.elem_view.html(e[0].share_count)});break;case"TW":console.log(this.url_get_share+this.shares_url),$.getJSON(this.url_get_share+this.shares_url+"&callback=?",function(e){t.elem_view.html(e.count)});break;default:alert("Других социальных сетей мы не знаем")}}}var win=null,facebook_setting_obj={url_set_share:"http://www.facebook.com/sharer.php?s=100",uid:"FB"},twitter_setting_obj={url_set_share:"https://twitter.com/share?",url_get_share:"http://urls.api.twitter.com/1/urls/count.json?url=",uid:"TW"},vkontakte_setting_obj={url_set_share:"http://vkontakte.ru/share.php?",url_get_share:"http://vk.com/share.php?act=count&url=",uid:"VK"},VK={count_value:666,Share:{count:function(t,e){VK.count_value=e}}};Provider.prototype=new new_share_constructor,vkontakte_obj=new Provider,vkontakte_obj.url_set_share=vkontakte_setting_obj.url_set_share,vkontakte_obj.url_get_share=vkontakte_setting_obj.url_get_share,vkontakte_obj.uid=vkontakte_setting_obj.uid,facebook_obj=new Provider,facebook_obj.url_set_share=facebook_setting_obj.url_set_share,facebook_obj.url_get_share=facebook_setting_obj.url_get_share,facebook_obj.uid=facebook_setting_obj.uid,twitter_obj=new Provider,twitter_obj.url_set_share=twitter_setting_obj.url_set_share,twitter_obj.url_get_share=twitter_setting_obj.url_get_share,twitter_obj.uid=twitter_setting_obj.uid;